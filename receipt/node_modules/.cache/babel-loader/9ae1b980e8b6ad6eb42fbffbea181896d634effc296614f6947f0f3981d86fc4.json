{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import barcode from'./barcode.png';import html2canvas from'html2canvas';import axios from'axios';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import ToggleSwitch from'./ToggleSwitch';import ReceiptLogo from'./receipt-logo.png';import LogoUpload from'./LogoUpload';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function MainPart(_ref){let{currency}=_ref;const[rows,setRows]=useState([]);// Define rows state here\nconst addRow=()=>{setRows([...rows,{name:'',quantity:1,price:''}]);};const handleInputChange=(index,event)=>{const{name,value}=event.target;const newRows=[...rows];newRows[index][name]=value;setRows(newRows);};const calculateTotalAmount=()=>{return rows.reduce((total,row)=>{return total+(parseFloat(row.price)*parseFloat(row.quantity)||0);},0);};const[companyName,setCompanyName]=useState('');const[slogan,setSlogan]=useState('');const[customerName,setCustomerName]=useState('');const[tax,setTax]=useState('');const subtotal=calculateTotalAmount();const taxAmount=subtotal*tax/100;const netPayable=subtotal+taxAmount;const handleCompanyNameChange=event=>{setCompanyName(event.target.value);};const handleSloganChange=event=>{setSlogan(event.target.value);};const handleCustomerNameChange=event=>{setCustomerName(event.target.value);};const handleTaxChange=event=>{setTax(event.target.value);};const[currentDate,setCurrentDate]=useState(new Date());// Update the date every second\nuseEffect(()=>{const timer=setInterval(()=>{setCurrentDate(new Date());},1000);// Clear the interval on component unmount\nreturn()=>clearInterval(timer);},[]);const formattedDate=currentDate.toLocaleDateString();// Download and upload\nconst[file,setFile]=useState(null);const[uploadUrl,setUploadUrl]=useState('');const handleFileChange=e=>{setFile(e.target.files[0]);};const handleDownload=async()=>{const element=document.getElementById('the-receipt');if(element){html2canvas(element).then(async canvas=>{// Create an image URL from the canvas\nconst imgData=canvas.toDataURL('image/png');// Create a link element\nconst link=document.createElement('a');link.href=imgData;link.download='receipt.png';// Append the link to the body (required for Firefox)\ndocument.body.appendChild(link);// Trigger the download\nlink.click();// Remove the link from the body\ndocument.body.removeChild(link);const response=await fetch(imgData);const blob=await response.blob();const file=new File([blob],'receipt.png',{type:'image/png'});// Set the file state\nsetFile(file);// Upload the file\nhandleUpload(file);});}};const handleUpload=async file=>{if(!file){alert('Please select a file first.');return;}const formData=new FormData();formData.append('file',file);try{const token=localStorage.getItem('authToken');const response=await axios.post('/upload',formData,{headers:{'Content-Type':'multipart/form-data',Authorization:\"Bearer \".concat(token)}});if(response.status===200){console.log('File uploaded successfully:',response.data.url);setUploadUrl(response.data.url);}else{console.error('Failed to upload file');}}catch(error){console.error('Error uploading file:',error);}};// Fetching company name and slogan\nconst[userData,setUserData]=useState({companyName:'',companySlogan:''});// Getting data\nuseEffect(()=>{const fetchUserData=async()=>{try{const token=localStorage.getItem('authToken');// Retrieve token from localStorage\nif(!token){console.error('No token found');toast.info('Please log in to use all features.');return;}const response=await axios.get('/api/user',{headers:{Authorization:\"Bearer \".concat(token)// Include token in Authorization header\n}});console.log('User data response:',response.data);setUserData(response.data);}catch(error){if(error.response&&error.response.status===401){console.error('Token is invalid or expired:',error);toast.error('Session expired. Please log in again.');localStorage.removeItem('authToken');window.location.href='/login';}else if(error.response&&error.response.status===404){console.error('Route not found:',error);toast.error('The requested resource was not found.');}else{console.error('Error fetching user data:',error);}}};fetchUserData();},[]);//   Toggle code\nconst[showCompanyName,setShowCompanyName]=useState(true);const[showSlogan,setShowSlogan]=useState(true);const[showCustomerName,setShowCustomerName]=useState(true);const[showBarcode,setShowBarcode]=useState(true);const[showTime,setShowTime]=useState(true);const[showDate,setShowDate]=useState(true);const[showThanks,setShowThanks]=useState(true);const[showCredits,setShowCredits]=useState(true);const[showCompanyLogo,setShowCompanyLogo]=useState(false);// Toggle functions for each state variable\nconst handleShowCompanyLogo=()=>{setShowCompanyLogo(prev=>!prev);};const handleShowCompanyName=()=>{setShowCompanyName(prev=>!prev);};const handleShowSlogan=()=>{setShowSlogan(prev=>!prev);};const handleShowCustomerName=()=>{setShowCustomerName(prev=>!prev);};const handleShowBarcode=()=>{setShowBarcode(prev=>!prev);};const handleShowTime=()=>{setShowTime(prev=>!prev);};const handleShowDate=()=>{setShowDate(prev=>!prev);};const handleShowThanks=()=>{setShowThanks(prev=>!prev);};const handleShowCredits=()=>{setShowCredits(prev=>!prev);};// Font size slider\nconst[receiptHeight,setReceiptHeight]=useState(30);const handleReceiptHeight=event=>{setReceiptHeight(event.target.value);};const[receiptWidth,setReceiptWidth]=useState(10);const handleReceiptWidth=event=>{setReceiptWidth(event.target.value);};const[companyLogoSize,setCompanyLogoSize]=useState(60);const handleCompanyLogoSize=event=>{setCompanyLogoSize(event.target.value);};const[companyFontSize,setCompanyFontSize]=useState();const handleCompanyFontSize=event=>{setCompanyFontSize(event.target.value);};const[sloganFontSize,setSloganFontSize]=useState();const handleSloganFontSize=event=>{setSloganFontSize(event.target.value);};const[receiptFontSize,setReceiptFontSize]=useState();const handleReceiptFontSize=event=>{setReceiptFontSize(event.target.value);};// Email logic\nconst[isOverlayVisible,setOverlayVisible]=useState(false);const[customerEmail,setCustomerEmail]=useState('');const overlayRef=useRef(null);const openOverlay=()=>{setOverlayVisible(true);};const closeOverlay=()=>{setOverlayVisible(false);};const handleEmailChange=event=>{setCustomerEmail(event.target.value);};const handleEmailSend=async()=>{const element=document.getElementById('the-receipt');if(element){const canvas=await html2canvas(element);const imgData=canvas.toDataURL('image/png');// Convert base64 URL to a blob\nconst response=await fetch(imgData);const blob=await response.blob();const formData=new FormData();formData.append('email',customerEmail);formData.append('receipt',blob,'receipt.png');fetch('/send-email',{method:'POST',body:formData}).then(response=>{if(response.ok){console.log('Email sent successfully');toast.success(\"The receipt has been emailed.\");closeOverlay();// Close overlay on success\n}else{console.error('Failed to send email');}}).catch(error=>{console.error('Error:',error);});}};useEffect(()=>{const handleClickOutside=event=>{if(overlayRef.current&&!overlayRef.current.contains(event.target)){closeOverlay();}};if(isOverlayVisible){document.addEventListener('mousedown',handleClickOutside);}else{document.removeEventListener('mousedown',handleClickOutside);}return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[isOverlayVisible]);// Logo upload logic\nconst[logoUrl,setLogoUrl]=useState('');const handleLogoChange=newLogoUrl=>{setLogoUrl(newLogoUrl);setShowCompanyLogo(true);// Perform any additional actions needed when the logo is changed\nconsole.log('New logo URL:',newLogoUrl);};return/*#__PURE__*/_jsxs(\"div\",{className:\"main-part row d-flex justify-content-around pb-3\",children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-sm-12 col-md-7 col-lg-7 pb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inner-bg p-3 px-4 py-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"h4 pb-2\",children:\"Enter Receipt Details\"}),/*#__PURE__*/_jsx(\"hr\",{style:{backgroundColor:'white',height:'2px',border:'none',width:'100%'},className:\"horizontal-line\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"receipt-inputs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between row pb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"pb-2 m-0 profile-text\",children:\"Company name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"py-2 px-2 form-control\",type:\"text\",placeholder:\"Company Name\",name:\"companyName\",value:userData.companyName||companyName,onChange:handleCompanyNameChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"pb-2 m-0 profile-text\",children:\"Slogan\"}),/*#__PURE__*/_jsx(\"input\",{className:\"py-2 px-2 form-control\",type:\"text\",placeholder:\"Slogan (Optional)\",name:\"slogan\",value:userData.companySlogan||slogan,onChange:handleSloganChange})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex row justify-content-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"pb-2 m-0 profile-text\",children:\"Customer name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"py-2 px-2 form-control\",type:\"text\",placeholder:\"Customer Name\",name:\"customerName\",value:customerName,onChange:handleCustomerNameChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"pb-2 m-0 profile-text\",children:\"Tax\"}),/*#__PURE__*/_jsx(\"input\",{className:\"py-2 px-2 form-control\",type:\"number\",placeholder:\"Tax (%)\",name:\"tax\",value:tax,onChange:handleTaxChange})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex row justify-content-between pt-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"pb-3 m-0 profile-text pb-2\",children:\"Company logo\"}),/*#__PURE__*/_jsx(LogoUpload,{onChange:handleLogoChange,setLogoUrl:setLogoUrl,logoUrl:logoUrl})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"receipt-items my-3 pt-3 px-3\",children:rows.map((row,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"row items-row mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col p-0\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Item Name\",name:\"name\",value:row.name,onChange:event=>handleInputChange(index,event)})}),/*#__PURE__*/_jsx(\"div\",{className:\"col p-0\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",placeholder:\"Quantity\",name:\"quantity\",value:row.quantity,onChange:event=>handleInputChange(index,event)})}),/*#__PURE__*/_jsx(\"div\",{className:\"col p-0\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",placeholder:\"Price\",name:\"price\",value:row.price,onChange:event=>handleInputChange(index,event)})})]},index))}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:addRow,className:\"mx-1 add-item-btn my-1 p-2 px-3\",children:\"Add Item\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inner-bg p-3 p-4 mt-5\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"h4 pb-3\",children:\"Customization\"}),/*#__PURE__*/_jsx(\"hr\",{style:{backgroundColor:'white',height:'2px',border:'none',width:'100%'},className:\"horizontal-line\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row customization-sliders pt-2\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"h5 pb-3\",children:\"Size Adjustments\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-lg-4 col-12 col-sm-12 pb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"range\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"pb-1 m-0 slider-text\",children:\"Height\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex range-gap align-items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"20\",max:\"120\",value:receiptHeight,onChange:handleReceiptHeight}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{className:\"m-0\",children:[receiptHeight,\"px\"]})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-lg-4 col-12 col-sm-12 pb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"range\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"pb-1 m-0 slider-text\",children:\"Width\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex range-gap align-items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"0\",max:\"50\",value:receiptWidth,onChange:handleReceiptWidth}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{className:\"m-0\",children:[receiptWidth,\"px\"]})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-lg-4 col-12 col-sm-12 pb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"range\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"pb-1 m-0 slider-text\",children:\"Company logo\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex range-gap align-items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"30\",max:\"120\",value:companyLogoSize,onChange:handleCompanyLogoSize}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{className:\"m-0\",children:[companyLogoSize,\"px\"]})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-lg-4 col-12 col-sm-12 pb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"range\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"pb-1 m-0 slider-text\",children:\"Company name\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex range-gap align-items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"20\",max:\"50\",value:companyFontSize,onChange:handleCompanyFontSize}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{className:\"m-0\",children:[companyFontSize,\"px\"]})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-lg-4 col-12 col-sm-12 pb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"range\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"pb-1 m-0 slider-text\",children:\"Slogan\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex range-gap align-items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"13\",max:\"28\",value:sloganFontSize,onChange:handleSloganFontSize}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{className:\"m-0\",children:[sloganFontSize,\"px\"]})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-lg-4 col-12 col-sm-12 pb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"range\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"pb-1 m-0 slider-text\",children:\"Text\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex range-gap align-items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"10\",max:\"18\",value:receiptFontSize,onChange:handleReceiptFontSize}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{className:\"m-0\",children:[receiptFontSize,\"px\"]})})]})]})}),/*#__PURE__*/_jsx(\"div\",{})]}),/*#__PURE__*/_jsx(\"hr\",{style:{backgroundColor:'white',height:'2px',border:'none',width:'100%'},className:\"horizontal-line\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row customization-toggles pt-2\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"h5 pb-2\",children:\"Show/Hide Items\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-lg-4 col-12 col-sm-4\",children:/*#__PURE__*/_jsx(ToggleSwitch,{isChecked:showCompanyLogo,onToggle:handleShowCompanyLogo,label:\"company logo\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-lg-4 col-12 col-sm-4\",children:/*#__PURE__*/_jsx(ToggleSwitch,{isChecked:showCompanyName,onToggle:handleShowCompanyName,label:\"company name\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-lg-4 col-12 col-sm-4\",children:/*#__PURE__*/_jsx(ToggleSwitch,{isChecked:showSlogan,onToggle:handleShowSlogan,label:\"slogan\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-lg-4 col-12 col-sm-4\",children:/*#__PURE__*/_jsx(ToggleSwitch,{isChecked:showCustomerName,onToggle:handleShowCustomerName,label:\"customer name\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-lg-4 col-12 col-sm-4\",children:/*#__PURE__*/_jsx(ToggleSwitch,{isChecked:showBarcode,onToggle:handleShowBarcode,label:\"barcode\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-lg-4 col-12 col-sm-4\",children:/*#__PURE__*/_jsx(ToggleSwitch,{isChecked:showTime,onToggle:handleShowTime,label:\"time\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-lg-4 col-12 col-sm-4\",children:/*#__PURE__*/_jsx(ToggleSwitch,{isChecked:showDate,onToggle:handleShowDate,label:\"date\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-lg-4 col-12 col-sm-4\",children:/*#__PURE__*/_jsx(ToggleSwitch,{isChecked:showThanks,onToggle:handleShowThanks,label:\"thanks\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-lg-4 col-12 col-sm-4\",children:/*#__PURE__*/_jsx(ToggleSwitch,{isChecked:showCredits,onToggle:handleShowCredits,label:\"credits\"})})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-sm-12 col-md-4 col-lg-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"inner-bg p-3 px-4 py-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"h4 pb-1\",children:\"Your Receipt\"}),/*#__PURE__*/_jsx(\"hr\",{style:{backgroundColor:'white',height:'2px',border:'none',width:'100%'},className:\"horizontal-line\"}),/*#__PURE__*/_jsx(\"div\",{className:\"receipt-adj px-3 mb-3 pt-2\",children:/*#__PURE__*/_jsx(\"div\",{style:{paddingTop:\"\".concat(receiptHeight,\"px\"),paddingBottom:\"\".concat(receiptHeight,\"px\"),paddingLeft:\"\".concat(receiptWidth,\"px\"),paddingRight:\"\".concat(receiptWidth,\"px\")},id:\"the-receipt\",className:\"the-receipt\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"receipt-content px-3 py-2 pb-3\",children:[showCompanyLogo&&/*#__PURE__*/_jsx(\"div\",{className:\"receipt-company-logo-div text-center pb-3\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img-fluid\",src:logoUrl,alt:\"Company Logo\",style:{width:\"\".concat(companyLogoSize,\"px\"),height:\"\".concat(companyLogoSize,\"px\")}})}),showCompanyName&&/*#__PURE__*/_jsx(\"h5\",{style:{fontSize:\"\".concat(companyFontSize,\"px\")},className:\"text-center r-company\",children:userData.companyName||companyName}),showSlogan&&/*#__PURE__*/_jsx(\"h6\",{style:{fontSize:\"\".concat(sloganFontSize,\"px\")},className:\"text-center r-slogan\",children:userData.companySlogan||slogan}),showCustomerName&&/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"\".concat(receiptFontSize,\"px\")},className:\"r-p py-2 customer-para\",children:[\"Customer name: \",customerName]}),/*#__PURE__*/_jsx(\"div\",{className:\"dotted-line pb-2 px-2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"receipt-items-attributes row px-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col p-0\",children:/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"\".concat(receiptFontSize,\"px\")},children:\"Item\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col p-0\",children:/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"\".concat(receiptFontSize,\"px\")},children:\"Qty.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col p-0\",children:/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"\".concat(receiptFontSize,\"px\")},children:\"Price\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dotted-line pb-2 px-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"receipt-items px-3 my-3\",children:rows.map((row,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"row items-row mb-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col p-0\",children:/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"\".concat(receiptFontSize,\"px\")},children:row.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"col p-0\",children:/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"\".concat(receiptFontSize,\"px\")},children:row.quantity})}),/*#__PURE__*/_jsx(\"div\",{className:\"col p-0\",children:/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"\".concat(receiptFontSize,\"px\")},children:[\" \",row.price]})})]},index))}),/*#__PURE__*/_jsx(\"div\",{className:\"dotted-line pb-2 px-2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"r-calculations row px-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col p-0\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col p-0\",children:/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"\".concat(receiptFontSize,\"px\")},className:\"r-subtotal\",children:\"Subtotal:\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col p-0\",children:/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"\".concat(receiptFontSize,\"px\")},className:\"r-subtotal\",children:[currency,\" \",subtotal.toFixed(2)]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"r-calculations row px-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col p-0\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col p-0\",children:/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"\".concat(receiptFontSize,\"px\")},className:\"r-subtotal\",children:\"Tax:\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col p-0\",children:/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"\".concat(receiptFontSize,\"px\")},className:\"r-subtotal\",children:[currency,\" \",taxAmount.toFixed(2),\" (\",tax,\"%)\"]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dotted-line pb-2 px-2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"r-calculations row px-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col p-0\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col p-0\",children:/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"\".concat(receiptFontSize,\"px\")},className:\"r-subtotal\",children:\"Net payable:\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col p-0\",children:/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"\".concat(receiptFontSize,\"px\")},className:\"r-subtotal\",children:[currency,\" \",netPayable.toFixed(2)]})})]}),showBarcode&&/*#__PURE__*/_jsx(\"div\",{className:\"barcode py-3\",children:/*#__PURE__*/_jsx(\"img\",{className:\"barcode-img img-fluid\",src:barcode})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex row justify-content-between pt-2 px-1\",children:[showDate&&/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"\".concat(receiptFontSize,\"px\")},className:\"r-para\",children:formattedDate})}),showTime&&/*#__PURE__*/_jsx(\"div\",{className:\"col text-end\",children:/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"\".concat(receiptFontSize,\"px\")},className:\"r-para\",children:currentDate.toLocaleTimeString()})})]}),showThanks&&/*#__PURE__*/_jsx(\"div\",{className:\"pt-2 px-2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"r-thank-para text-center\",children:\"Thank You\"})}),showCredits&&/*#__PURE__*/_jsx(\"div\",{className:\"pt-2 px-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center credits-div\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"receipt-logo-div\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img-fluid\",src:ReceiptLogo})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"\".concat(receiptFontSize,\"px\")},className:\"r-big-para m-0\",children:\"Powered by: Receptify\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"\".concat(receiptFontSize,\"px\")},className:\"r-big-para m-0\",children:[\"App by: \",/*#__PURE__*/_jsx(\"a\",{className:\"receipt-author-link\",href:\"https://abdulwahab5547.github.io/portfolio/\",children:\"Abdul Wahab\"})]})]})]})})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center pt-3 pb-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleDownload,type:\"button\",className:\"mx-1 add-item-btn my-1 p-2 px-3\",children:\"Download Receipt\"}),/*#__PURE__*/_jsx(\"button\",{onClick:openOverlay,type:\"button\",className:\"mx-1 add-item-btn my-1 p-2 px-3\",children:\"Email\"}),isOverlayVisible&&/*#__PURE__*/_jsx(\"div\",{className:\"email-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"email-overlay-content py-3 px-4\",ref:overlayRef,children:[/*#__PURE__*/_jsx(\"h4\",{className:\"h4 py-2\",children:\"Enter Customer's Email Address\"}),/*#__PURE__*/_jsx(\"input\",{className:\"my-2 form-control\",type:\"email\",value:customerEmail,onChange:handleEmailChange,placeholder:\"Customer's Email\"}),/*#__PURE__*/_jsx(\"div\",{className:\"py-2 text-center\",children:/*#__PURE__*/_jsx(\"button\",{className:\"add-item-btn my-1 p-2 px-3 mx-1\",onClick:handleEmailSend,children:\"Send Email\"})})]})})]})]})})]});}export default MainPart;","map":{"version":3,"names":["React","useState","useEffect","useRef","barcode","html2canvas","axios","ToastContainer","toast","ToggleSwitch","ReceiptLogo","LogoUpload","jsx","_jsx","jsxs","_jsxs","MainPart","_ref","currency","rows","setRows","addRow","name","quantity","price","handleInputChange","index","event","value","target","newRows","calculateTotalAmount","reduce","total","row","parseFloat","companyName","setCompanyName","slogan","setSlogan","customerName","setCustomerName","tax","setTax","subtotal","taxAmount","netPayable","handleCompanyNameChange","handleSloganChange","handleCustomerNameChange","handleTaxChange","currentDate","setCurrentDate","Date","timer","setInterval","clearInterval","formattedDate","toLocaleDateString","file","setFile","uploadUrl","setUploadUrl","handleFileChange","e","files","handleDownload","element","document","getElementById","then","canvas","imgData","toDataURL","link","createElement","href","download","body","appendChild","click","removeChild","response","fetch","blob","File","type","handleUpload","alert","formData","FormData","append","token","localStorage","getItem","post","headers","Authorization","concat","status","console","log","data","url","error","userData","setUserData","companySlogan","fetchUserData","info","get","removeItem","window","location","showCompanyName","setShowCompanyName","showSlogan","setShowSlogan","showCustomerName","setShowCustomerName","showBarcode","setShowBarcode","showTime","setShowTime","showDate","setShowDate","showThanks","setShowThanks","showCredits","setShowCredits","showCompanyLogo","setShowCompanyLogo","handleShowCompanyLogo","prev","handleShowCompanyName","handleShowSlogan","handleShowCustomerName","handleShowBarcode","handleShowTime","handleShowDate","handleShowThanks","handleShowCredits","receiptHeight","setReceiptHeight","handleReceiptHeight","receiptWidth","setReceiptWidth","handleReceiptWidth","companyLogoSize","setCompanyLogoSize","handleCompanyLogoSize","companyFontSize","setCompanyFontSize","handleCompanyFontSize","sloganFontSize","setSloganFontSize","handleSloganFontSize","receiptFontSize","setReceiptFontSize","handleReceiptFontSize","isOverlayVisible","setOverlayVisible","customerEmail","setCustomerEmail","overlayRef","openOverlay","closeOverlay","handleEmailChange","handleEmailSend","method","ok","success","catch","handleClickOutside","current","contains","addEventListener","removeEventListener","logoUrl","setLogoUrl","handleLogoChange","newLogoUrl","className","children","style","backgroundColor","height","border","width","placeholder","onChange","map","onClick","min","max","isChecked","onToggle","label","paddingTop","paddingBottom","paddingLeft","paddingRight","id","src","alt","fontSize","toFixed","toLocaleTimeString","ref"],"sources":["/Volumes/Coding/All coding projects/Receipt maker/receipt/src/Components/MainPart.js"],"sourcesContent":["import React, { useState, useEffect, useRef} from 'react';\nimport barcode from './barcode.png';\nimport html2canvas from 'html2canvas';\nimport axios from 'axios';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport ToggleSwitch from './ToggleSwitch';\nimport ReceiptLogo from './receipt-logo.png';\nimport LogoUpload from './LogoUpload';\n\nfunction MainPart({currency}) {\n    const [rows, setRows] = useState([]); // Define rows state here\n\n    const addRow = () => {\n        setRows([...rows, { name: '', quantity: 1, price: '' }]);\n    };\n\n    const handleInputChange = (index, event) => {\n        const { name, value } = event.target;\n        const newRows = [...rows];\n        newRows[index][name] = value;\n        setRows(newRows);\n    };\n\n    const calculateTotalAmount = () => {\n        return rows.reduce((total, row) => {\n            return total + (parseFloat(row.price) * parseFloat(row.quantity) || 0);\n        }, 0);\n    };\n\n    const [companyName, setCompanyName] = useState('');\n    const [slogan, setSlogan] = useState('');\n    const [customerName, setCustomerName] = useState('');\n    const [tax, setTax] = useState('');\n\n    const subtotal = calculateTotalAmount();\n    const taxAmount = (subtotal * tax) / 100;\n    const netPayable = subtotal + taxAmount;\n\n    const handleCompanyNameChange = (event) => {\n        setCompanyName(event.target.value);\n    };\n\n    const handleSloganChange = (event) => {\n        setSlogan(event.target.value);\n    };\n\n    const handleCustomerNameChange = (event) => {\n        setCustomerName(event.target.value);\n    };\n    \n    const handleTaxChange = (event) => {\n        setTax(event.target.value);\n    };\n\n    const [currentDate, setCurrentDate] = useState(new Date());\n\n    // Update the date every second\n    useEffect(() => {\n        const timer = setInterval(() => {\n            setCurrentDate(new Date());\n        }, 1000);\n\n        // Clear the interval on component unmount\n        return () => clearInterval(timer);\n    }, []);\n\n    const formattedDate = currentDate.toLocaleDateString();\n\n    // Download and upload\n\n    const [file, setFile] = useState(null);\n    const [uploadUrl, setUploadUrl] = useState('');\n\n    const handleFileChange = (e) => {\n        setFile(e.target.files[0]);\n    };\n\n    const handleDownload = async () => {\n        const element = document.getElementById('the-receipt');\n        if (element) {\n          html2canvas(element).then(async (canvas) => {\n            // Create an image URL from the canvas\n            const imgData = canvas.toDataURL('image/png');\n    \n            // Create a link element\n            const link = document.createElement('a');\n            link.href = imgData;\n            link.download = 'receipt.png';\n    \n            // Append the link to the body (required for Firefox)\n            document.body.appendChild(link);\n    \n            // Trigger the download\n            link.click();\n    \n            // Remove the link from the body\n            document.body.removeChild(link);\n    \n            const response = await fetch(imgData);\n            const blob = await response.blob();\n            const file = new File([blob], 'receipt.png', { type: 'image/png' });\n    \n            // Set the file state\n            setFile(file);\n    \n            // Upload the file\n            handleUpload(file);\n          });\n        }\n      };\n\n    const handleUpload = async (file) => {\n        if (!file) {\n        alert('Please select a file first.');\n        return;\n        }\n\n        const formData = new FormData();\n        formData.append('file', file);\n\n        try {\n            const token = localStorage.getItem('authToken');\n            const response = await axios.post('/upload', formData, {\n                headers: {\n                'Content-Type': 'multipart/form-data',\n                Authorization: `Bearer ${token}`\n                },\n            });\n\n        if (response.status === 200) {\n            console.log('File uploaded successfully:', response.data.url);\n            setUploadUrl(response.data.url);\n        } else {\n            console.error('Failed to upload file');\n        }\n        } catch (error) {\n        console.error('Error uploading file:', error);\n        }\n    };\n\n\n    // Fetching company name and slogan\n\n    const [userData, setUserData] = useState({\n        companyName: '',\n        companySlogan: '',\n      });\n    \n      // Getting data\n    \n      useEffect(() => {\n        const fetchUserData = async () => {\n            try {\n                const token = localStorage.getItem('authToken'); // Retrieve token from localStorage\n    \n                if (!token) {\n                    console.error('No token found');\n                    toast.info('Please log in to use all features.');\n                    return;\n                }\n    \n                const response = await axios.get('/api/user', {\n                    headers: {\n                        Authorization: `Bearer ${token}` // Include token in Authorization header\n                    }\n                });\n    \n                console.log('User data response:', response.data);\n    \n                setUserData(response.data);\n            } catch (error) {\n                if (error.response && error.response.status === 401) {\n                    console.error('Token is invalid or expired:', error);\n                    toast.error('Session expired. Please log in again.');\n                    localStorage.removeItem('authToken');\n                    window.location.href = '/login';\n                } else if (error.response && error.response.status === 404) {\n                    console.error('Route not found:', error);\n                    toast.error('The requested resource was not found.');\n                } else {\n                    console.error('Error fetching user data:', error);\n                }\n            }\n        };\n    \n        fetchUserData();\n      }, []); \n\n    //   Toggle code\n\n    const [showCompanyName, setShowCompanyName] = useState(true);\n    const [showSlogan, setShowSlogan] = useState(true);\n    const [showCustomerName, setShowCustomerName] = useState(true);\n    const [showBarcode, setShowBarcode] = useState(true);\n    const [showTime, setShowTime] = useState(true);\n    const [showDate, setShowDate] = useState(true);\n    const [showThanks, setShowThanks] = useState(true);\n    const [showCredits, setShowCredits] = useState(true);\n    const [showCompanyLogo, setShowCompanyLogo] = useState(false);\n\n    // Toggle functions for each state variable\n\n    const handleShowCompanyLogo = () => {\n        setShowCompanyLogo(prev => !prev);\n    };\n\n    const handleShowCompanyName = () => {\n        setShowCompanyName(prev => !prev);\n    };\n\n    const handleShowSlogan = () => {\n        setShowSlogan(prev => !prev);\n    };\n\n    const handleShowCustomerName = () => {\n        setShowCustomerName(prev => !prev);\n    };\n\n    const handleShowBarcode = () => {\n        setShowBarcode(prev => !prev);\n    };\n\n    const handleShowTime = () => {\n        setShowTime(prev => !prev);\n    };\n\n    const handleShowDate = () => {\n        setShowDate(prev => !prev);\n    };\n\n    const handleShowThanks = () => {\n        setShowThanks(prev => !prev);\n    };\n\n    const handleShowCredits = () => {\n        setShowCredits(prev => !prev);\n    };\n\n    // Font size slider\n    const [receiptHeight, setReceiptHeight] = useState(30);\n    const handleReceiptHeight = (event) => {\n        setReceiptHeight(event.target.value);\n    };\n\n    const [receiptWidth, setReceiptWidth] = useState(10);\n    const handleReceiptWidth = (event) => {\n        setReceiptWidth(event.target.value);\n    };\n\n    const [companyLogoSize, setCompanyLogoSize] = useState(60);\n\n    const handleCompanyLogoSize = (event) => {\n        setCompanyLogoSize(event.target.value);\n    };\n\n    const [companyFontSize, setCompanyFontSize] = useState();\n\n    const handleCompanyFontSize = (event) => {\n        setCompanyFontSize(event.target.value);\n    };\n\n    const [sloganFontSize, setSloganFontSize] = useState();\n\n    const handleSloganFontSize = (event) => {\n        setSloganFontSize(event.target.value);\n    };\n\n    const [receiptFontSize, setReceiptFontSize] = useState();\n\n    const handleReceiptFontSize = (event) => {\n        setReceiptFontSize(event.target.value);\n    };\n\n    // Email logic\n\n    const [isOverlayVisible, setOverlayVisible] = useState(false);\n    const [customerEmail, setCustomerEmail] = useState('');\n    const overlayRef = useRef(null);\n\n    const openOverlay = () => {\n        setOverlayVisible(true);\n    };\n\n    const closeOverlay = () => {\n        setOverlayVisible(false);\n    };\n\n    const handleEmailChange = (event) => {\n        setCustomerEmail(event.target.value);\n    };\n\n    const handleEmailSend = async () => {\n        const element = document.getElementById('the-receipt');\n        if (element) {\n          const canvas = await html2canvas(element);\n          const imgData = canvas.toDataURL('image/png');\n    \n          // Convert base64 URL to a blob\n          const response = await fetch(imgData);\n          const blob = await response.blob();\n    \n          const formData = new FormData();\n          formData.append('email', customerEmail);\n          formData.append('receipt', blob, 'receipt.png');\n    \n          fetch('/send-email', {\n            method: 'POST',\n            body: formData\n          })\n          .then(response => {\n            if (response.ok) {\n              console.log('Email sent successfully');\n              toast.success(\"The receipt has been emailed.\");\n              closeOverlay(); // Close overlay on success\n            } else {\n              console.error('Failed to send email');\n            }\n          })\n          .catch(error => {\n            console.error('Error:', error);\n          });\n        }\n      };\n\n      useEffect(() => {\n        const handleClickOutside = (event) => {\n          if (overlayRef.current && !overlayRef.current.contains(event.target)) {\n            closeOverlay();\n          }\n        };\n    \n        if (isOverlayVisible) {\n          document.addEventListener('mousedown', handleClickOutside);\n        } else {\n          document.removeEventListener('mousedown', handleClickOutside);\n        }\n    \n        return () => {\n          document.removeEventListener('mousedown', handleClickOutside);\n        };\n      }, [isOverlayVisible]);\n\n\n    // Logo upload logic\n    const [logoUrl, setLogoUrl] = useState('');\n\n    const handleLogoChange = (newLogoUrl) => {\n        setLogoUrl(newLogoUrl);\n        setShowCompanyLogo(true);\n        // Perform any additional actions needed when the logo is changed\n        console.log('New logo URL:', newLogoUrl);\n    };\n    \n\n    return (\n        <div className=\"main-part row d-flex justify-content-around pb-3\">\n            <ToastContainer />\n            <div className=\"col-12 col-sm-12 col-md-7 col-lg-7 pb-3\">\n                <div className=\"inner-bg p-3 px-4 py-4\">\n                    <h4 className=\"h4 pb-2\">\n                        Enter Receipt Details\n                    </h4>\n                    <hr style={{ backgroundColor: 'white', height: '2px', border: 'none', width: '100%' }} className='horizontal-line' />\n                    <div className='receipt-inputs'>\n                        <div className='d-flex justify-content-between row pb-3'>\n                            <div className=\"col\">\n                                <p className=\"pb-2 m-0 profile-text\">Company name</p>\n                                <input\n                                    className='py-2 px-2 form-control'\n                                    type=\"text\"\n                                    placeholder=\"Company Name\"\n                                    name=\"companyName\"\n                                    value={userData.companyName || companyName}\n                                    onChange={handleCompanyNameChange}\n                                />\n                            </div>\n                            <div className=\"col\">\n                                <p className=\"pb-2 m-0 profile-text\">Slogan</p>\n                                <input\n                                    className='py-2 px-2 form-control'\n                                    type=\"text\"\n                                    placeholder=\"Slogan (Optional)\"\n                                    name=\"slogan\"\n                                    value={userData.companySlogan || slogan}\n                                    onChange={handleSloganChange}\n                                />\n                            </div>\n                            \n                        </div>\n                        <div className='d-flex row justify-content-between'>\n                            <div className=\"col\">\n                                <p className=\"pb-2 m-0 profile-text\">Customer name</p>\n                                <input\n                                    className='py-2 px-2 form-control'\n                                    type=\"text\"\n                                    placeholder=\"Customer Name\"\n                                    name=\"customerName\"\n                                    value={customerName}\n                                    onChange={handleCustomerNameChange}\n                                />\n                            </div>\n                            <div className=\"col\">\n                                <p className=\"pb-2 m-0 profile-text\">Tax</p>\n                                <input\n                                    className='py-2 px-2 form-control'\n                                    type=\"number\"\n                                    placeholder=\"Tax (%)\"\n                                    name=\"tax\"\n                                    value={tax}\n                                    onChange={handleTaxChange}\n                                />\n                            </div>\n                        </div>\n                        <div className='d-flex row justify-content-between pt-3'>\n                            <div className=\"col\">\n                                <div>\n                                <p className=\"pb-3 m-0 profile-text pb-2\">Company logo</p>\n                                    <LogoUpload onChange={handleLogoChange} setLogoUrl={setLogoUrl} logoUrl={logoUrl}/>\n                                </div>\n                            </div>\n                            <div className='col'>\n\n                            </div>\n                        </div>\n                        \n                        \n                        <div className='receipt-items my-3 pt-3 px-3'>\n                            {rows.map((row, index) => (\n                                <div className=\"row items-row mb-3\" key={index}>\n                                    <div className=\"col p-0\">\n                                        <input\n                                            type=\"text\"\n                                            className=\"form-control\"\n                                            placeholder=\"Item Name\"\n                                            name=\"name\"\n                                            value={row.name}\n                                            onChange={(event) => handleInputChange(index, event)}\n                                        />\n                                    </div>\n                                    <div className=\"col p-0\">\n                                        <input\n                                            type=\"number\"\n                                            className=\"form-control\"\n                                            placeholder=\"Quantity\"\n                                            name=\"quantity\"\n                                            value={row.quantity}\n                                            onChange={(event) => handleInputChange(index, event)}\n                                        />\n                                    </div>\n                                    <div className=\"col p-0\">\n                                        <input\n                                            type=\"number\"\n                                            className=\"form-control\"\n                                            placeholder=\"Price\"\n                                            name=\"price\"\n                                            value={row.price}\n                                            onChange={(event) => handleInputChange(index, event)}\n                                        />\n                                    </div>\n                                </div>\n                            ))}\n\n                        </div>\n                        <button type=\"button\" onClick={addRow} className=\"mx-1 add-item-btn my-1 p-2 px-3\">Add Item</button>\n                    </div>\n                </div>\n                <div className=\"inner-bg p-3 p-4 mt-5\">\n                    <h4 className=\"h4 pb-3\">\n                        Customization\n                    </h4>\n                    {/* <hr style={{ backgroundColor: '#5224D2', height: '2px', border: 'none', width: '100%' }} className='horizontal-line' />\n                    <div className='templates'>\n                        <h5 className=\"h5 pb-3\">\n                            Template\n                        </h5>\n                    </div> */}\n\n                    <hr style={{ backgroundColor: 'white', height: '2px', border: 'none', width: '100%' }} className='horizontal-line' />\n                    <div className='row customization-sliders pt-2'>\n                            <h5 className=\"h5 pb-3\">\n                                Size Adjustments\n                            </h5>\n                            <div className='col-md-4 col-lg-4 col-12 col-sm-12 pb-3'>\n                                <div className='range'>\n                                <p className=\"pb-1 m-0 slider-text\">Height</p>\n                                <div className='d-flex range-gap align-items-center'>\n                                    <input\n                                        type=\"range\"\n                                        min=\"20\"\n                                        max=\"120\"\n                                        value={receiptHeight}\n                                        onChange={handleReceiptHeight}\n                                    />\n                                <div>\n                                    <p className='m-0'>{receiptHeight}px</p>\n                                </div>\n                                \n                                </div>\n                                \n                                </div>\n                            </div>\n                            <div className='col-md-4 col-lg-4 col-12 col-sm-12 pb-3'>\n                                <div className='range'>\n                                <p className=\"pb-1 m-0 slider-text\">Width</p>\n                                <div className='d-flex range-gap align-items-center'>\n                                    <input\n                                        type=\"range\"\n                                        min=\"0\"\n                                        max=\"50\"\n                                        value={receiptWidth}\n                                        onChange={handleReceiptWidth}\n                                    />\n                                <div>\n                                    <p className='m-0'>{receiptWidth}px</p>\n                                </div>\n                                \n                                </div>\n                                \n                                </div>\n                            </div>\n                            <div className='col-md-4 col-lg-4 col-12 col-sm-12 pb-3'>\n                                <div className='range'>\n                                <p className=\"pb-1 m-0 slider-text\">Company logo</p>\n                                <div className='d-flex range-gap align-items-center'>\n                                    <input\n                                        type=\"range\"\n                                        min=\"30\"\n                                        max=\"120\"\n                                        value={companyLogoSize}\n                                        onChange={handleCompanyLogoSize}\n                                    />\n                                <div>\n                                    <p className='m-0'>{companyLogoSize}px</p>\n                                </div>\n                                \n                                </div>\n                                \n                                </div>\n                            </div>\n                            <div className='col-md-4 col-lg-4 col-12 col-sm-12 pb-3'>\n                                <div className='range'>\n                                <p className=\"pb-1 m-0 slider-text\">Company name</p>\n                                <div className='d-flex range-gap align-items-center'>\n                                    <input\n                                        type=\"range\"\n                                        min=\"20\"\n                                        max=\"50\"\n                                        value={companyFontSize}\n                                        onChange={handleCompanyFontSize}\n                                    />\n                                <div>\n                                    <p className='m-0'>{companyFontSize}px</p>\n                                </div>\n                                \n                                </div>\n                                \n                                </div>\n                                \n                            </div>\n                            <div className='col-md-4 col-lg-4 col-12 col-sm-12 pb-3'>\n                                <div className='range'>\n                                <p className=\"pb-1 m-0 slider-text\">Slogan</p>\n                                <div className='d-flex range-gap align-items-center'>\n                                <input\n                                    type=\"range\"\n                                    min=\"13\"\n                                    max=\"28\"\n                                    value={sloganFontSize}\n                                    onChange={handleSloganFontSize}\n                                />\n                                <div>\n                                    <p className='m-0'>{sloganFontSize}px</p>\n                                </div>\n                                </div>\n                                \n                                </div>\n                                \n                            </div>\n                            <div className='col-md-4 col-lg-4 col-12 col-sm-12 pb-3'>\n                                <div className='range'>\n                                <p className=\"pb-1 m-0 slider-text\">Text</p>\n                                <div className='d-flex range-gap align-items-center'>\n                                <input\n                                    type=\"range\"\n                                    min=\"10\"\n                                    max=\"18\"\n                                    value={receiptFontSize}\n                                    onChange={handleReceiptFontSize}\n                                />\n                                <div>\n                                    <p className='m-0'>{receiptFontSize}px</p>\n                                </div>\n                                </div>\n                                \n                                </div>\n                                \n                            </div>\n                            <div>\n                            \n                        </div>\n                    </div>\n                    <hr style={{ backgroundColor: 'white', height: '2px', border: 'none', width: '100%' }} className='horizontal-line' />\n                    <div className='row customization-toggles pt-2'>\n                        <h5 className=\"h5 pb-2\">\n                            Show/Hide Items\n                        </h5>\n                        <div className=\"col-md-4 col-lg-4 col-12 col-sm-4\">\n                            <ToggleSwitch\n                                isChecked={showCompanyLogo}\n                                onToggle={handleShowCompanyLogo}\n                                label=\"company logo\"\n                            />\n                        </div>\n                        <div className=\"col-md-4 col-lg-4 col-12 col-sm-4\">\n                            \n                            <ToggleSwitch\n                                isChecked={showCompanyName}\n                                onToggle={handleShowCompanyName}\n                                label=\"company name\"\n                            />\n                            \n                        </div>\n                        <div className=\"col-md-4 col-lg-4 col-12 col-sm-4\">\n                            <ToggleSwitch\n                                isChecked={showSlogan}\n                                onToggle={handleShowSlogan}\n                                label=\"slogan\"\n                            />\n\n                        </div>\n\n                        <div className=\"col-md-4 col-lg-4 col-12 col-sm-4\">\n                            <ToggleSwitch\n                                isChecked={showCustomerName}\n                                onToggle={handleShowCustomerName}\n                                label=\"customer name\"\n                            />\n                        </div>\n                        <div className=\"col-md-4 col-lg-4 col-12 col-sm-4\">\n                            <ToggleSwitch\n                                isChecked={showBarcode}\n                                onToggle={handleShowBarcode}\n                                label=\"barcode\"\n                            />\n                        </div>\n                        <div className=\"col-md-4 col-lg-4 col-12 col-sm-4\">\n                            <ToggleSwitch\n                                isChecked={showTime}\n                                onToggle={handleShowTime}\n                                label=\"time\"\n                            />\n                        </div>\n                        <div className=\"col-md-4 col-lg-4 col-12 col-sm-4\">\n                            <ToggleSwitch\n                                isChecked={showDate}\n                                onToggle={handleShowDate}\n                                label=\"date\"\n                            />\n                        </div>\n                        <div className=\"col-md-4 col-lg-4 col-12 col-sm-4\">\n                            <ToggleSwitch\n                                isChecked={showThanks}\n                                onToggle={handleShowThanks}\n                                label=\"thanks\"\n                            />\n                        </div>\n                        <div className=\"col-md-4 col-lg-4 col-12 col-sm-4\">\n                            <ToggleSwitch\n                                isChecked={showCredits}\n                                onToggle={handleShowCredits}\n                                label=\"credits\"\n                            />\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div className=\"col-12 col-sm-12 col-md-4 col-lg-4\">\n                <div className=\"inner-bg p-3 px-4 py-4\">\n                    <h4 className=\"h4 pb-1\">\n                        Your Receipt\n                    </h4>\n                    <hr style={{ backgroundColor: 'white', height: '2px', border: 'none', width: '100%' }} className='horizontal-line' />\n                    <div className='receipt-adj px-3 mb-3 pt-2'>\n                        <div style={{paddingTop: `${receiptHeight}px`, paddingBottom: `${receiptHeight}px`, paddingLeft: `${receiptWidth}px`, paddingRight: `${receiptWidth}px`}} id='the-receipt' className='the-receipt'>\n                            <div className='receipt-content px-3 py-2 pb-3'>\n                                {showCompanyLogo && \n                                    <div className='receipt-company-logo-div text-center pb-3'>\n                                        <img \n                                            className='img-fluid' \n                                            src={logoUrl}\n                                            alt=\"Company Logo\"\n                                            style={{ width: `${companyLogoSize}px`, height: `${companyLogoSize}px` }}\n                                        />\n                                    </div>\n                                }\n                                \n                                {showCompanyName && <h5 style={{ fontSize: `${companyFontSize}px` }} className='text-center r-company'>{userData.companyName || companyName}</h5>}\n                                {showSlogan && <h6 style={{ fontSize: `${sloganFontSize}px` }} className='text-center r-slogan'>{userData.companySlogan || slogan}</h6>}\n                                {showCustomerName && <p style={{ fontSize: `${receiptFontSize}px` }} className='r-p py-2 customer-para'>Customer name: {customerName}</p>}\n                                <div className='dotted-line pb-2 px-2'>\n                                </div>\n                                <div className='receipt-items-attributes row px-3'>\n                                    <div className=\"col p-0\">\n                                        <p style={{ fontSize: `${receiptFontSize}px` }}>Item</p>\n                                    </div>\n                                    <div className=\"col p-0\">\n                                        <p style={{ fontSize: `${receiptFontSize}px` }}>Qty.</p>\n                                    </div>\n                                    <div className=\"col p-0\">\n                                        <p style={{ fontSize: `${receiptFontSize}px` }}>Price</p>\n                                    </div>\n                                </div>\n                                <div className='dotted-line pb-2 px-2'></div>\n                                <div className='receipt-items px-3 my-3'>\n                                    {rows.map((row, index) => (\n                                        <div key={index} className=\"row items-row mb-1\">\n                                            <div className=\"col p-0\">\n                                                <p style={{ fontSize: `${receiptFontSize}px` }}>{row.name}</p>\n                                            </div>\n                                            <div className=\"col p-0\">\n                                                <p style={{ fontSize: `${receiptFontSize}px` }}>{row.quantity}</p>\n                                            </div>\n                                            <div className=\"col p-0\">\n                                                <p style={{ fontSize: `${receiptFontSize}px` }}> {row.price}</p>\n                                            </div>\n                                        </div>\n                                    ))}\n                                </div>  \n                                <div className='dotted-line pb-2 px-2'></div>\n                                <div className='r-calculations row px-3'>\n                                    <div className='col p-0'>\n\n                                    </div>\n                                    <div className='col p-0'>\n                                        <p style={{ fontSize: `${receiptFontSize}px` }} className='r-subtotal'>Subtotal:</p>\n                                    </div>\n                                    <div className='col p-0'>\n                                        <p style={{ fontSize: `${receiptFontSize}px` }} className='r-subtotal'>{currency} {subtotal.toFixed(2)}</p>\n                                    </div>\n                                </div>\n                                <div className='r-calculations row px-3'>\n                                    <div className='col p-0'>\n\n                                    </div>\n                                    <div className='col p-0'>\n                                        <p style={{ fontSize: `${receiptFontSize}px` }} className='r-subtotal'>Tax:</p>\n                                    </div>\n                                    <div className='col p-0'>\n                                        <p style={{ fontSize: `${receiptFontSize}px` }} className='r-subtotal'>{currency} {taxAmount.toFixed(2)} ({tax}%)</p>\n                                    </div>\n                                </div>\n                                <div className='dotted-line pb-2 px-2'>\n                                </div>\n                                <div className='r-calculations row px-3'>\n                                    <div className='col p-0'>\n\n                                    </div>\n                                    <div className='col p-0'>\n                                        <p style={{ fontSize: `${receiptFontSize}px` }} className='r-subtotal'>Net payable:</p>\n                                    </div>\n                                    <div className='col p-0'>\n                                        <p style={{ fontSize: `${receiptFontSize}px` }} className='r-subtotal'>{currency} {netPayable.toFixed(2)}</p>\n                                    </div>\n                                </div>\n                                {showBarcode && <div className='barcode py-3'>\n                                    <img className=\"barcode-img img-fluid\" src={barcode}/>\n                                </div>}\n                                <div className='d-flex row justify-content-between pt-2 px-1'>\n                                    {showDate&& <div className='col'>\n                                        <p style={{ fontSize: `${receiptFontSize}px` }} className='r-para'>{formattedDate}</p>\n                                    </div>}\n                                    \n                                    {showTime &&\n                                    <div className='col text-end'>\n                                        <p style={{ fontSize: `${receiptFontSize}px` }} className='r-para'>{currentDate.toLocaleTimeString()}</p>\n                                    </div>}\n                                    \n                                </div>\n                                {showThanks && <div className='pt-2 px-2'>\n                                    <p className='r-thank-para text-center'>Thank You</p>    \n                                </div>}\n                                {showCredits && <div className='pt-2 px-1'>\n                                    <div className='d-flex align-items-center credits-div'>\n                                        <div className='receipt-logo-div'>\n                                            <img className=\"img-fluid\" src={ReceiptLogo} />\n                                        </div>\n                                        <div>\n                                            <p style={{ fontSize: `${receiptFontSize}px` }} className='r-big-para m-0'>Powered by: Receptify</p>\n                                            <p style={{ fontSize: `${receiptFontSize}px` }} className='r-big-para m-0'>App by: <a className=\"receipt-author-link\" href=\"https://abdulwahab5547.github.io/portfolio/\">Abdul Wahab</a></p>  \n                                        </div>\n                                        \n                                    </div>\n                                      \n                                </div>}\n                            </div>\n                            \n                        </div>\n                        \n                    </div>\n                    <div className='d-flex justify-content-center pt-3 pb-2'>\n                        <button onClick={handleDownload} type=\"button\" className=\"mx-1 add-item-btn my-1 p-2 px-3\">Download Receipt</button>\n                        <button onClick={openOverlay} type=\"button\" className=\"mx-1 add-item-btn my-1 p-2 px-3\">Email</button>\n                        {isOverlayVisible && (\n                            <div className=\"email-overlay\">\n                                <div className=\"email-overlay-content py-3 px-4\" ref={overlayRef}>\n                                    <h4 className='h4 py-2'>Enter Customer's Email Address</h4>\n                                    <input className='my-2 form-control'\n                                    type=\"email\"\n                                    value={customerEmail}\n                                    onChange={handleEmailChange}\n                                    placeholder=\"Customer's Email\"\n                                    />\n                                    <div className='py-2 text-center'><button className=\"add-item-btn my-1 p-2 px-3 mx-1\" onClick={handleEmailSend}>Send Email</button></div>\n                                    \n                                    \n                                </div>\n                            </div>\n                        )}\n                    </div>\n                    \n                    {/* {uploadUrl && (\n                        <div>\n                        <p>Image uploaded successfully:</p>\n                        <a href={uploadUrl} target=\"_blank\" rel=\"noopener noreferrer\">View Image</a>\n                        </div>\n                    )} */}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default MainPart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}